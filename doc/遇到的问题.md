## 遇到的问题

---
#### 1. 初始化HttpServer类对象后listenFd_无法监听连接请求
- 这个bug隐藏的很深，原因是为创建listenFd_时使用了在其后声明的port_成员变量，而在初始化列表中，初始化顺序是根据变量的声明顺序进行的，所以创建listenFd使用的port_是一个未定义的值，导致无法监听请求

#### 2. 出现大量Bad file descriptor错误
- 这个bug是调试时间最长的，原因是在HttpRequest的析构函数中关闭了连接描述符，但是在delete一个HttpRequest对象后又错误地再关闭一次文件描述符。在低并发时，这个bug没有表现出来，而高并发时，析构函数中关闭的连接描述符立刻被accept4分配给了新的HTTP连接，而这时再次调用close(fd)就错误地把新连接关闭了，这时候对新连接进行操作就会触发Bad file descriptor错误，在webbench压测时会有大量的失败请求

#### 3. 段错误
- 段错误会生成core文件（ubuntu默认不生成，需要进行一些设置），通过gdb可打开core文件，随后通过bt命令查看函数调用栈，分析函数调用栈即可debug

#### 4. 处理超时事件和处理I/O事件的顺序
- 由于超时事件会断开连接，因此如果先处理超时事件，有可能断开了即将要在I/O事件处理函数中处理的连接，因此需要先处理I/O事件再处理超时事件
